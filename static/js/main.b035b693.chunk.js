(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{265:function(e,t,n){e.exports=n(441)},270:function(e,t,n){},440:function(e,t,n){},441:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(47),s=n.n(o),l=(n(270),n(15)),i=n(16),c=n(18),u=n(17),d=n(19),h=n(64),p=n(451),m=n(255),g=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){n.props.updateVideo(n.props.video)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a.Item,{className:"ui list"},r.a.createElement(m.a,{avatar:!0,src:this.props.video.thumbnail,floated:"left"}),r.a.createElement(p.a.Content,{floated:"left",onClick:this.handleClick},r.a.createElement(p.a.Header,null,this.props.video.title)))}}]),t}(a.Component),f=n(455),v=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{style:{overflow:"auto",maxHeight:600}},r.a.createElement(p.a,{divided:!0,verticalAlign:"middle"},this.props.videos.map(function(t){return r.a.createElement(g,{updateVideo:e.props.updateVideo,key:t.id,video:t})})))}}]),t}(a.Component),E=n(115),b=n.n(E),S=n(34),O=function(){return function(e){fetch("https://sight-and-sound.herokuapp.com/videos").then(function(e){return e.json()}).then(function(t){e({type:"FETCH_VIDEOS",payload:t})})}},y=function(e){return function(t){fetch("https://sight-and-sound.herokuapp.com/users/".concat(e)).then(function(e){return e.json()}).then(function(e){t({type:"FETCH_SONGS",payload:e.songs})})}},j=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={song:!1,progress:0,currentSong:"null"},n.handleProgress=function(e){n.setState({progress:e.playedSeconds});var t=n.props.video.video_songs.find(function(t){return t.song_start<e.playedSeconds&&t.song_end>e.playedSeconds});t&&!n.props.songs.find(function(e){return e.id===t.song_id})?n.setState({song:!0,currentSong:t,notClicked:!0}):n.setState({song:!1,currentSong:null,notCliked:!1})},n.handleClick=function(){n.props.video.video_songs;fetch("https://sight-and-sound.herokuapp.com/user_songs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n.props.currentUser.id,song_id:n.state.currentSong.song_id})}).then(function(e){return e.json()}).then(function(e){n.props.fetchSongs(n.props.currentUser.id)})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser&&this.props.fetchSongs(this.props.currentUser.id)}},{key:"render",value:function(){var e=this;return console.log(this.state.song),console.log(this.props.currentUser?this.props.currentUser:"hi"),console.log(this.props.currentUser&&this.state.currentSong?!this.props.currentUser.songs.find(function(t){return t.id===e.state.currentSong.song_id}):"hi"),console.log(this.props.currentUser&&this.state.currentSong?this.props.songs:"hi"),r.a.createElement("div",{class:"player-wrapper"},r.a.createElement(b.a,{className:"react-player",url:this.props.video?this.props.video.url:null,playing:!0,controls:!0,onProgress:this.handleProgress}),this.state.song&&this.props.currentUser&&!this.props.songs.find(function(t){return t.id===e.state.currentSong.song_id})?r.a.createElement("button",{class:"likeSongButton",onClick:this.handleClick},"Like Song!"):null)}}]),t}(a.Component),C=Object(S.b)(function(e){return{songs:e.songs}},{fetchSongs:y})(j),k=n(456),w=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentVideo:null},n.updateVideo=function(e){n.setState({currentVideo:e})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchVideos()}},{key:"render",value:function(){return r.a.createElement(k.a,{columns:2,relaxed:"very",stackable:!0},r.a.createElement(k.a.Column,{id:"videoList"},r.a.createElement(v,{updateVideo:this.updateVideo,videos:this.props.videos})),r.a.createElement(k.a.Column,{id:"videoListPlayer"},r.a.createElement(C,{video:this.state.currentVideo,currentUser:this.props.currentUser})))}}]),t}(a.Component),U=Object(S.b)(function(e){return{videos:e.videos}},{fetchVideos:O})(w),_=n(452),P=n(57),T=n(450),V=n(457),A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={videos:[],recommendedSongs:[],recommendedSong:""},n.handleClick=function(){n.props.currentSong===n.props.song.url?n.props.playOrPause():n.props.updateSong(n.props.song.url)},n.getSeconds=function(e){Math.ceil(e);var t=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return("0"+t).slice(-2)+":"+("0"+n).slice(-2)},n.getProgressSeconds=function(e){Math.ceil(e);var t=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return("0"+t).slice(-2)+":"+("0"+n).slice(-2)},n.handleRecommended=function(){fetch("https://sight-and-sound.herokuapp.com/songs/".concat(n.props.song.id,"/recommended")).then(function(e){return e.json()}).then(function(e){n.setState({recommendedSongs:e});for(var t=0;t<n.state.recommendedSongs.length;){if(n.state.recommendedSongs[t].id!==n.props.song.id&&!n.props.currentUser.songs.find(function(e){return e.id===n.state.recommendedSongs[t].id})){n.setState({recommendedSong:n.state.recommendedSongs[t]});break}t+=1}})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://sight-and-sound.herokuapp.com/songs/".concat(this.props.song.id)).then(function(e){return e.json()}).then(function(t){e.setState({videos:t.videos})})}},{key:"render",value:function(){return r.a.createElement(p.a.Item,null,r.a.createElement(p.a.Content,{floated:"right"},this.props.song.url?this.props.currentSong===this.props.song.url&&this.props.playing?r.a.createElement(_.a,{id:"playButton",onClick:this.handleClick},r.a.createElement(P.a,{name:"pause"})):r.a.createElement(_.a,{id:"playButton",onClick:this.handleClick},r.a.createElement(P.a,{name:"play"})):r.a.createElement(_.a,{disabled:!0},"Not Available"),r.a.createElement(T.a,{size:"mini",trigger:r.a.createElement(_.a,{id:"recommendButton",size:"mini",onClick:this.handleRecommended},r.a.createElement(P.a,{name:"expand arrows alternate"})),closeIcon:!0},r.a.createElement(T.a.Header,null,"Recommended Song"),r.a.createElement(T.a.Content,{floated:"right"},r.a.createElement(T.a.Description,null,r.a.createElement(V.a,null,this.state.recommendedSong.title),r.a.createElement("p",null,this.state.recommendedSong.artist),r.a.createElement("p",null,this.state.recommendedSong?1===this.state.recommendedSong.videos.length?r.a.createElement("small",null,"From the video: ",this.state.recommendedSong.videos[0].title):r.a.createElement("small",null,"From the videos: ",this.state.recommendedSong.videos.join(", ")):null))))),r.a.createElement(p.a.Content,{floated:"left"},this.props.currentSong===this.props.song.url&&this.props.song.url?r.a.createElement("div",null,r.a.createElement("strong",null,"Now Playing"),r.a.createElement("br",null),r.a.createElement("p",null,this.getProgressSeconds(this.props.progress.playedSeconds)," / ",this.getSeconds(this.props.duration))):null),r.a.createElement(p.a.Content,{id:"songInfo"},r.a.createElement(p.a.Header,null,this.props.song.title),this.props.song.artist,r.a.createElement("br",null),1===this.state.videos.length?r.a.createElement("small",null,"From the video: ",this.state.videos[0].title):r.a.createElement("p",null,"From the videos: ",this.state.videos.join(", "))))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){var e=[];n.props.songs.map(function(t){n.props.currentSong!==t.url&&e.push(t.url)});var t=e[Math.floor(Math.random()*e.length)];n.props.updateSong(t)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(p.a,{divided:!0,verticalAlign:"middle"},r.a.createElement(V.a,{className:"playlistHeader"},r.a.createElement("h3",{className:"playlistText"},"Your Playlist"),r.a.createElement(_.a,{id:"shuffleButton",onClick:this.handleClick},r.a.createElement(P.a,{name:"random"}))),this.props.songs.map(function(t){return r.a.createElement(A,{key:t.id,song:t,updateSong:e.props.updateSong,playOrPause:e.props.playOrPause,currentSong:e.props.currentSong,duration:e.props.duration,progress:e.props.progress,playing:e.props.playing,getRecommendedSong:e.getRecommendedSong,currentUser:e.props.currentUser})}))}}]),t}(a.Component),D=n(38),N=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDuration=function(e){n.props.getDuration(e)},n.handleProgress=function(e){n.props.getProgress(e)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"test"},r.a.createElement("div",{class:"songPlayer"},r.a.createElement(b.a,Object(D.a)({url:this.props.song,playing:this.props.playing,controls:!0,onEnded:this.props.handleComplete,onDuration:this.handleDuration,onProgress:this.handleProgress},"onEnded",this.props.handleEnded))))}}]),t}(a.Component),L=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentSongUrl:null,playing:!1,currentSongDuration:0,currentSongProgress:0},n.updateSong=function(e){n.setState({currentSongUrl:e,playing:!0})},n.playOrPause=function(){n.setState({playing:!n.state.playing})},n.handleComplete=function(){n.setState({currentSongUrl:null,playing:!1})},n.handleDuration=function(e){n.setState({currentSongDuration:e})},n.handleProgress=function(e){n.setState({currentSongProgress:e})},n.handleEnded=function(){var e=[];n.props.songs.map(function(t){n.state.currentSongUrl!==t.url&&e.push(t.url)});var t=e[Math.floor(Math.random()*e.length)];n.updateSong(t)},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.currentUser&&this.props.fetchSongs(this.props.currentUser.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:"songContainer"},r.a.createElement(f.a,{style:{overflow:"auto",maxHeight:500}},r.a.createElement("div",{className:"songList"},r.a.createElement(I,{playOrPause:this.playOrPause,songs:this.props.currentUser?this.props.songs:[],updateSong:this.updateSong,currentSong:this.state.currentSongUrl,duration:this.state.currentSongDuration,progress:this.state.currentSongProgress,playing:this.state.playing,currentUser:this.props.currentUser})),r.a.createElement("div",{class:"ui divider"}),r.a.createElement(N,{getDuration:this.handleDuration,playing:this.state.playing,song:this.state.currentSongUrl,handleComplete:this.handleComplete,getProgress:this.handleProgress,handleEnded:this.handleEnded})))}}]),t}(a.Component),F=Object(S.b)(function(e){return console.log(e),{songs:e.songs}},{fetchSongs:y})(L),M=n(448),H=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleChange=function(e){n.setState(Object(D.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),fetch("https://sight-and-sound.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(n.state)}).then(function(e){return e.json()}).then(function(e){e.errors?alert(e.errors):n.props.setCurrentUser(e)})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a,{id:"imageContainer"},r.a.createElement(m.a,{id:"image",src:"/Logo.png",fluid:!0})),r.a.createElement(M.a,{id:"loginContainer"},r.a.createElement("div",{class:"ui middle aligned center aligned grid"},r.a.createElement("div",{class:"column"},r.a.createElement("h2",{class:"ui image header"},r.a.createElement("div",{class:"content"},"Login")),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form",class:"ui large form"},r.a.createElement("div",{class:"ui stacked secondary segment"},r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"ui left icon input"},r.a.createElement("i",{class:"user icon"}),r.a.createElement("input",{onChange:this.handleChange,name:"username",value:this.state.username,placeholder:"Username"}))),r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"ui left icon input"},r.a.createElement("i",{class:"lock icon"}),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:this.state.password,placeholder:"Password"}))),r.a.createElement("button",{class:"ui fluid large submit button",type:"submit"},"Submit")))))))}}]),t}(r.a.Component),R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",passwordConfirmation:""},n.handleChange=function(e){n.setState(Object(D.a)({},e.target.name,e.target.value))},n.createUser=function(){fetch("https://sight-and-sound.herokuapp.com/users",{method:"POST",headers:{"Content-Type":"application/json",Accepts:"application/json"},body:JSON.stringify(n.state)}).then(function(e){return e.json()}).then(function(e){console.log(e),e.errors?alert(e.errors):n.props.setCurrentUser(e)})},n.handleSubmit=function(e){e.preventDefault(),n.state.password===n.state.passwordConfirmation?n.createUser():alert("Passwords don't match!")},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a,{id:"imageContainer"},r.a.createElement(m.a,{id:"image",src:"/Logo.png",fluid:!0})),r.a.createElement(M.a,{id:"signupContainer"},r.a.createElement("div",{class:"ui middle aligned center aligned grid"},r.a.createElement("div",{class:"column"},r.a.createElement("h2",{class:"ui image header"},r.a.createElement("div",{class:"content"},"Signup")),r.a.createElement("form",{onSubmit:this.handleSubmit,id:"form",class:"ui large form"},r.a.createElement("div",{class:"ui stacked secondary segment"},r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"ui left icon input"},r.a.createElement("i",{class:"user icon"}),r.a.createElement("input",{required:!0,onChange:this.handleChange,name:"username",value:this.state.username,placeholder:"Username"}))),r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"ui left icon input"},r.a.createElement("i",{class:"lock icon"}),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"password",value:this.state.password,placeholder:"Password"}))),r.a.createElement("div",{class:"field"},r.a.createElement("div",{class:"ui left icon input"},r.a.createElement("i",{class:"lock icon"}),r.a.createElement("input",{onChange:this.handleChange,type:"password",name:"passwordConfirmation",value:this.state.passwordConfirmation,placeholder:"Password Confirmation"}))),r.a.createElement("button",{class:"ui fluid large submit button",type:"submit"},"Submit")))))))}}]),t}(r.a.Component),q=n(76),x=n(449),B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={videoTitle:"",videoUrl:"",videoThumbnail:"",songs:[{title:"",artist:"",url:"",song_start:null,song_end:null}]},n.handleClick=function(){n.setState({songs:n.state.songs.concat([{title:"",artist:"",url:"",song_start:null,song_end:null}])})},n.handleChange=function(e){n.setState(Object(D.a)({},e.target.name,e.target.value))},n.handleSongChange=function(e){return function(t){var a=n.state.songs.map(function(n,a){return e!==a?n:Object(q.a)({},n,Object(D.a)({},t.target.name,t.target.value))});n.setState({songs:a})}},n.handleSubmit=function(e){e.preventDefault(),console.log("submitted"),fetch("https://sight-and-sound.herokuapp.com/videos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n.state.videoTitle,url:n.state.videoUrl,thumbnail:n.state.videoThumbnail,songs:n.state.songs})}).then(function(e){return e.json()}).then(function(e){n.props.fetchVideos()})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"newVideoContainer"},r.a.createElement(f.a,{style:{overflow:"auto",maxHeight:500}},r.a.createElement("h1",null,"Add Video with Songs"),r.a.createElement(x.a,{onSubmit:this.handleSubmit},r.a.createElement(x.a.Field,{width:8},r.a.createElement("label",null,"Video Title"),r.a.createElement("input",{required:!0,name:"videoTitle",value:this.state.videoTitle,onChange:this.handleChange,placeholder:"Video Title"})),r.a.createElement(x.a.Field,{width:8},r.a.createElement("label",null,"Video URL"),r.a.createElement("input",{required:!0,name:"videoUrl",value:this.state.videoUrl,onChange:this.handleChange,placeholder:"Video URL"})),r.a.createElement(x.a.Field,{width:8},r.a.createElement("label",null,"Video Thumbnail"),r.a.createElement("input",{required:!0,name:"videoThumbnail",value:this.state.videoThumbnail,onChange:this.handleChange,placeholder:"Video Thumbnail"})),this.state.songs.map(function(t,n){return r.a.createElement(x.a.Group,{widths:"equal"},r.a.createElement(x.a.Field,null,r.a.createElement("label",null,"Song Title"),r.a.createElement("input",{required:!0,name:"title",value:t.title,onChange:e.handleSongChange(n),fluid:!0,placeholder:"Song Title"})),r.a.createElement(x.a.Field,null,r.a.createElement("label",null,"Song Artist"),r.a.createElement("input",{required:!0,name:"artist",value:t.artist,onChange:e.handleSongChange(n),fluid:!0,placeholder:"Song Artist"})),r.a.createElement(x.a.Field,null,r.a.createElement("label",null,"Song URL"),r.a.createElement("input",{required:!0,name:"url",value:t.url,onChange:e.handleSongChange(n),fluid:!0,placeholder:"Song URL"})),r.a.createElement(x.a.Field,null,r.a.createElement("label",null,"Song Start Time (in seconds)"),r.a.createElement("input",{required:!0,name:"song_start",value:t.song_start,onChange:e.handleSongChange(n),fluid:!0,placeholder:"Song Start Time (in seconds)"})),r.a.createElement(x.a.Field,null,r.a.createElement("label",null,"Song End Time (in seconds)"),r.a.createElement("input",{required:!0,name:"song_end",value:t.song_end,onChange:e.handleSongChange(n),fluid:!0,placeholder:"Song End Time (in seconds)"})))}),r.a.createElement(_.a,{type:"submit"},"Submit")),r.a.createElement(_.a,{floated:"right",onClick:this.handleClick},"Add Another Song ")))}}]),t}(a.Component),J=Object(S.b)(function(e){return{videos:e.videos}},{fetchVideos:O})(B),G=n(453),W=n(33),X=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleItemClick=function(e,t){var a=t.name;return n.setState({activeItem:a})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(G.a,{id:"navbar"},r.a.createElement(G.a.Item,null,r.a.createElement("img",{src:"/Logo.png",position:"center"})),r.a.createElement(G.a.Item,{name:"videos",active:"videos"===e,onClick:this.handleItemClick},r.a.createElement(W.b,{to:"/videos",style:{color:"black"}},"Videos")),r.a.createElement(G.a.Item,{name:"songs",active:"songs"===e,onClick:this.handleItemClick},r.a.createElement(W.b,{to:"/songs",style:{color:"black"}},"Songs")),r.a.createElement(G.a.Item,{position:"right",name:"addVideo",active:"addVideo"===e,onClick:this.handleItemClick},r.a.createElement(W.b,{to:"/new",style:{color:"black"}},"Add Video")),r.a.createElement(G.a.Item,{name:"LoginPage",active:"loginPage"===e,onClick:this.props.logOut},"LogOut"))}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleItemClick=function(e,t){var a=t.name;return n.setState({activeItem:a})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.activeItem;return r.a.createElement(G.a,{id:"footer"},r.a.createElement(G.a.Item,null,r.a.createElement("img",{src:"/Logo.png",position:"center"})))}}]),t}(a.Component),Y=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a,{id:"imageContainer"},r.a.createElement(m.a,{id:"image",src:"/Logo.png",fluid:!0})),r.a.createElement(M.a,{id:"buttonContainer"},r.a.createElement("div",{className:"textAnimation"},r.a.createElement("div",{className:"welcome"},"Welcome"),r.a.createElement("div",{className:"welcome"},r.a.createElement("span",null,"to Sight & Sound!"))),r.a.createElement("h2",null,"Who's watching?"),r.a.createElement("br",null),r.a.createElement(_.a.Group,null,r.a.createElement(_.a,null,r.a.createElement(W.b,{to:"/login",style:{color:"black"}},"Login")),r.a.createElement(_.a.Or,null),r.a.createElement(_.a,{positive:!0},r.a.createElement(W.b,{to:"/signup",style:{color:"black"}},"Signup")))))}}]),t}(a.Component),$=(n(440),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:null},n.logOut=function(){localStorage.removeItem("token"),n.setState({currentUser:null},function(){n.props.history.push("/")})},n.updateUser=function(e){n.setState({currentUser:e})},n.setCurrentUser=function(e){n.setState({currentUser:e.user},function(){localStorage.setItem("token",e.token),n.props.history.push("/videos")})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.state.currentUser&&this.props.fetchSongs(this.state.currentUser.id)}},{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("token");t&&fetch("https://sight-and-sound.herokuapp.com/auto_login",{headers:{Authorization:t}}).then(function(e){return e.json()}).then(function(t){t.errors?alert(t.errors):e.setState({currentUser:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(X,{logOut:this.logOut,currentUser:this.state.currentUser}),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(Y,e)}}),r.a.createElement(h.a,{exact:!0,path:"/videos",render:function(t){return r.a.createElement(U,Object.assign({},t,{currentUser:e.state.currentUser}))}}),r.a.createElement(h.a,{path:"/songs",render:function(t){return r.a.createElement(F,Object.assign({},t,{currentUser:e.state.currentUser}))}}),r.a.createElement(h.a,{path:"/login",render:function(t){return r.a.createElement(H,Object.assign({},t,{setCurrentUser:e.setCurrentUser}))}}),r.a.createElement(h.a,{path:"/signup",render:function(t){return r.a.createElement(R,Object.assign({},t,{setCurrentUser:e.setCurrentUser}))}}),r.a.createElement(h.a,{path:"/new",render:function(t){return r.a.createElement(J,Object.assign({},t,{setCurrentUser:e.setCurrentUser}))}})),r.a.createElement(z,null))}}]),t}(a.Component)),K=Object(S.b)(null,{fetchSongs:y})(Object(h.e)($));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=n(75),Z=n(254),ee={videos:[],songs:[],selectedSong:null},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_VIDEOS":return Object(q.a)({},e,{videos:t.payload});case"FETCH_SONGS":return Object(q.a)({},e,{songs:t.payload});case"PLAY_SONG":return Object(q.a)({},e,{selectedSong:t.payload});default:return e}},ne=Object(Q.d)(te,Object(Q.c)(Object(Q.a)(Z.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(r.a.createElement(S.a,{store:ne},r.a.createElement(W.a,null,r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[265,1,2]]]);
//# sourceMappingURL=main.b035b693.chunk.js.map